<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>state = "doc1";
doc_color = make_colour_rgb(111, 198, 156);
madam_color = make_colour_rgb(171, 130, 171);
global.over = false;

doc1[0] = "Good morning Madam. How are you doing today ?";
madam1[0] = "Fine, I guess...";
doc2[0] = "I'm sorry but I'm not coming for good news.";
doc2[1] = "The last treatment didn't work as it was supposed to do and your health is deteriorating...";
madam2[0] = "...Don't tell me... that-";
doc3[0] = "It was unpredictable, everything went really fast and now I can only give you a few days...";
doc3[1] = "Or a couple minutes, if you look at it from another angle.";
madam3[0] = "Sure. Could you please leave me now?";
doc4[0] = "Absolutely. I'm right here if you need anything.";
madam4[0] = "Wait!";
madam4[1] = "Anything...like bringing my husband here?";
doc5[0] = "If only I could... but we still don't have news from the south.";
doc5[1] =  "Now they even expect us to run out of electricity by next Thursday!";
madam5[0] = "And of course it had to happen now!";
madam5[1] = "You may leave, thank you.";

madam6[0] = "A few days... there's no way!";
madam6[1] = "And with all these other doctors on strike, he doesn't have time for a second analysis.";
madam6[2] = "He must have made a mistake, I'll show him how wrong he was!";
narrator0[0] = "Later during the night...";

madam7[0] = "Wh...What's happening to me ?!";
madam7[1] = "Oh. I'm dreaming.";
madam7[2] = "Again.";
madam7[3] = "Those arrows...";
madam7[4] = "I recognize them!";
madam7[5] = "This is how I perform on stage!";
madam7[6] = "But there is no stage.";
madam7[7] = "Well, if I get the chance to dance, I won't let it go.";
madam7[8] = "As they say, a dance a day keep the doctor away!";
madam7[9] = "But it's night. And if the doctor doesn't come to me I will starve.";
madam7[10] = "What am I saying?";
madam7[11] = "Let's dance!";
madam8[0] = "What was that?!";
madam8[1] = "I almost died!";
madam8[2] = "Wait, I could really die now, I need to stop saying that.";
madam8[3] = "Anyway, that was definitely something.";
madam8[4] = "If I remember, I did this dance during the Jungle Festival, I even won the first place!";
madam8[5] = "The next nights are gonna be interesting.";

narrator1[0] = "Hi! This is the game dev! I released this game for the 39th Ludum Dare.";
narrator1[1] = "Unfortunately, I've been running out of time and this is just a demo.";
narrator1[2] = "The whole game is about trying to accept the death (or not) while you run out of your own energy.";
narrator1[3] = "But if you take too much time, some exterior factors may be implied.";
narrator1[4] = "Each dream is a step towards death acceptance, and tell a story about the past of the patient.";
narrator1[5] = "Nightmares that make you step back if you don't face them with enough bravery.";
narrator1[6] = "And rhythm, of course!";
narrator1[7] = "Anyway, I hoped you liked it! See ya!";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///when before state is reached
state = "dance";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///when demo state is reached
state = "narrator1";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///when transition state is reached
room_goto(rm_dream_game);
instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///when state wait is reached (after the door)
state = "madam6";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///when state finished is reached
state = "narrator0";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///do the right stuff depending on the state
if(!instance_exists(obj_textbox) &amp;&amp; !audio_is_playing(snd_door) &amp;&amp; !audio_is_playing(snd_denial)) {
    switch (state) {
        //hospital
        case "doc1" : {
            t = init_textbox_font(49, 180, 420, fnt_kongtext, doc_color ,doc1);
            t.voice = snd_mep_doc;
            state = "madam1";
            break;
        }
        case "madam1" : {
            init_textbox_font(49, 180, 420, fnt_kongtext, madam_color ,madam1);
            state = "doc2";
            break;
        }
        case "doc2" : {
            t = init_textbox_font(49, 180, 420, fnt_kongtext, doc_color ,doc2);
            t.voice = snd_mep_doc;
            state = "madam2";
            break;
        }
        case "madam2" : {
            init_textbox_font(49, 180, 420, fnt_kongtext, madam_color ,madam2);
            state = "doc3";
            break;
        }
        case "doc3" : {
            t = init_textbox_font(49, 180, 420, fnt_kongtext, doc_color ,doc3);
            t.voice = snd_mep_doc;
            state = "madam3";
            break;
        }
        case "madam3" : {
            init_textbox_font(49, 180, 420, fnt_kongtext, madam_color ,madam3);
            state = "doc4";
            break;
        }
        case "doc4" : {
            t = init_textbox_font(49, 180, 420, fnt_kongtext, doc_color ,doc4);
            t.voice = snd_mep_doc;
            state = "madam4";
            break;
        }
        case "madam4" : {
            init_textbox_font(49, 180, 420, fnt_kongtext, madam_color ,madam4);
            state = "doc5";
            break;
        }
        case "doc5" : {
            t = init_textbox_font(49, 180, 420, fnt_kongtext, doc_color ,doc5);
            t.voice = snd_mep_doc;
            state = "madam5";
            break;
        }
        case "madam5" : {
            init_textbox_font(49, 180, 420, fnt_kongtext, madam_color ,madam5);
            state = "door";
            break;
        }
        //the doctor leaves the room
        case "door" : {
            audio_play_sound(snd_door, 100, false);
            state = "wait";
            break;
        }
        case "wait" : {
            alarm_set(1,60);
            state = "";
            break;
        }
        case "madam6" : {
            init_textbox_font(49, 180, 420, fnt_kongtext, madam_color ,madam6);
            state = "finished";
            break;
        }
        case "finished" : {
            alarm_set(0,60);
            state = "";
            break;
        }
        case "narrator0" : {
            t = init_textbox_font(49, 180, 420, fnt_kongtext, c_white ,narrator0);
            t.voice = snd_mep_doc;
            state = "transition";
            break;
        }
        case "transition" : {
            alarm_set(2,60);
            state = "";
            break;
        }
        
        //dream
        case "madam7" : {
            init_textbox_font(34, 48, 444, fnt_kongtext, madam_color ,madam7);
            state = "before";
            break;
        }
        case "before" : {
            alarm_set(4,60);
            state = "";
            break;
        }
        case "dance" : {
            beatmap_instance = instance_create(0,0,obj_beatmap);
            state = "madam8";
            break;
        }
        case "madam8" : {
            if(global.over) {
                init_textbox_font(34, 48, 444, fnt_kongtext, madam_color ,madam8);
                state = "demo";
            }
            break;
        }
        case "demo" : {
            alarm_set(3,60);
            state = "";
            break;
        }
        case "narrator1" : {
            t = init_textbox_font(34, 48, 444, fnt_kongtext, c_yellow ,narrator1);
            t.voice = snd_mep_doc;
            state = "";
            break;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
